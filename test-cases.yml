---
- summary: |
    Проверка регистрации пользователя через GitHub OAuth
  requirement: |
    Пользователь может зарегистрироваться через GitHub OAuth
  prerequisites: |
    1. Пользователь не зарегистрирован в Codebattle
    2. Пользователь имеет аккаунт GitHub
    3. Открыта главная страница Codebattle
  test-data: |
    Аккаунт GitHub с валидными учетными данными
  steps:
    - Нажимаем кнопку "Sign in with GitHub"
    - Разрешаем доступ приложению Codebattle к аккаунту GitHub
    - Подтверждаем авторизацию
  expected-result: |
    1. Пользователь успешно зарегистрирован в системе
    2. Происходит автоматический вход в систему
    3. Отображается главная страница с доступным функционалом

- summary: |
    Проверка создания игры против бота
  requirement: |
    Пользователь может создать игру против бота
  prerequisites: |
    1. Пользователь авторизован в системе
    2. Открыта главная страница Codebattle
  test-data: |
    Выбранный язык программирования: Node.js
    Выбранная задача: cube_sum
  steps:
    - Нажимаем кнопку "Create a battle"
    - Выбираем опцию "With a bot"
    - Выбираем задачу "cube_sum"
    - Выбираем язык программирования "Node.js"
    - Нажимаем кнопку "Create battle"
  expected-result: |
    1. Создается новая игровая сессия
    2. Открывается интерфейс игры с редактором кода
    3. Отображается условие задачи
    4. Бот подключен к игре

- summary: |
    Проверка работы веб-редактора кода с подсветкой синтаксиса
  requirement: |
    Система предоставляет веб-редактор кода с подсветкой синтаксиса для выбранного языка
  prerequisites: |
    1. Пользователь авторизован
    2. Открыта игровая сессия
    3. Выбран язык программирования Node.js
  test-data: |
    Тестовый код на JavaScript:
    const solution = (n) => { return n * n; }
  steps:
    - Вводим тестовый код в редактор
    - Проверяем подсветку синтаксиса
    - Проверяем автодополнение (если доступно)
  expected-result: |
    1. Код отображается с подсветкой синтаксиса JavaScript/Node.js
    2. Ключевые слова (const, return) выделяются цветом
    3. Скобки и операторы правильно подсвечены

- summary: |
    Проверка автоматической проверки решения задачи
  requirement: |
    Система автоматически проверяет решение через тесты и показывает результат
  prerequisites: |
    1. Пользователь в игровой сессии
    2. В редактор введен код решения
    3. Задача: cube_sum (сумма кубов чисел от 1 до n)
  test-data: |
    Входные данные: 5
    Ожидаемый результат: 225
    Код решения:
    const solution = (num) => {
      return Math.pow(num * (num + 1) / 2, 2);
    }
  steps:
    - Вводим код решения в редактор
    - Нажимаем кнопку "Run" или "Check"
    - Ожидаем выполнения проверки
  expected-result: |
    1. Система запускает проверку
    2. Отображается статус выполнения (прогресс)
    3. Показывается результат: "Success" или "All tests passed"
    4. Для входного значения 5 возвращается 225

- summary: |
    Проверка отображения рейтинга и статистики
  requirement: |
    Пользователь видит свой рейтинг (ELO), статистику игр и прогресс
  prerequisites: |
    1. Пользователь авторизован
    2. У пользователя есть история игр
  test-data: |
    Учетная запись с сыгранными играми
  steps:
    - Переходим в раздел профиля
    - Ищем раздел статистики
    - Проверяем отображение рейтинга ELO
    - Проверяем статистику побед/поражений
  expected-result: |
    1. Отображается текущий рейтинг ELO (числовое значение)
    2. Показана статистика: количество игр, побед, поражений
    3. Отображается прогресс или график изменения рейтинга

- summary: |
    Проверка адаптивности интерфейса для мобильных устройств
  requirement: |
    Мобильная версия интерфейса должна быть адаптивной для экранов от 320px
  prerequisites: |
    1. Открыта главная страница Codebattle
    2. Используется браузер с инструментами разработчика
  test-data: |
    Разрешения экрана для тестирования:
    - 320x568 (iPhone SE)
    - 375x667 (iPhone 8)
    - 414x896 (iPhone XR)
  steps:
    - Открываем инструменты разработчика браузера
    - Включаем режим адаптивного дизайна
    - Выбираем разрешение 320px
    - Проверяем отображение элементов
    - Тестируем навигацию и ввод кода
  expected-result: |
    1. Интерфейс корректно отображается на всех разрешениях
    2. Элементы не обрезаются и не накладываются друг на друга
    3. Кнопки и поля ввода доступны для касания
    4. Редактор кода остается функциональным

- summary: |
    Проверка конфиденциальности пользовательских данных
  requirement: |
    Все пользовательские данные (особенно код решений) должны быть конфиденциальны
  prerequisites: |
    1. Два разных пользователя авторизованы в системе
    2. Один пользователь отправил решение в игре
  test-data: |
    Пользователь A: отправил решение задачи cube_sum
    Пользователь B: пытается получить доступ к решению пользователя A
  steps:
    - Пользователь B пытается найти решение пользователя A в системе
    - Проверяем доступность через API (если есть доступ)
    - Проверяем отображение в интерфейсе
  expected-result: |
    1. Код решения пользователя A недоступен пользователю B
    2. В интерфейсе не отображаются чужие решения
    3. API не возвращает чужие решения без авторизации
